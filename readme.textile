h1. LineCounter

A simple program that counts lines of code and makes stats.

h2. Creating filters

LineCounter uses filters to know what kind of files to include and exclude when counting lines.
Filter is a .xml file located in data\filters\, here is a sample filter:

<pre>
<code>
<filter>
  <info name="Example filter" />
  <includes>
    <include name="*.txt" />
  </includes>
  <excludes>
    <exclude name="*~*" />
  </excludes>
  <comments regexp="//.*" />
</filter>
</code>
</pre>

The filter above is named "Example filter" it scans .txt files and skips files that have "~" in their name (usually backup files). Comments are determined using a regular expression.

h2. Creating export formats

If you want to export a report created by LineCounter you have to choose one of the export formats. Export formats are also .xml files but they are located in data\exports\, here's a sample export format file:

<pre>
<code>
<export>
  <info name="Textile table" ext="*.textile" />
  <prepend>
    <![CDATA[h1. LineCounter report
]]>
  </prepend>
  <item>
    <![CDATA[|%FILENAME%|%FILESIZE% (%FILESIZEB% bytes)|%LINES_SOURCE% (%PERCENT_SOURCE%)|%LINES_COMMENTS% (%PERCENT_COMMENTS%)|%LINES_EMPTY% (%PERCENT_EMPTY%)|%LINES_TOTAL%|
]]>
  </item>
  <append>
    <![CDATA[|*Total files: %TOTAL_FILECOUNT%*|*%TOTAL_FILESIZE% (%TOTAL_FILESIZEB% bytes)*|*%TOTAL_LINES_SOURCE% (%TOTAL_PERCENT_SOURCE%)*|*%TOTAL_LINES_COMMENTS% (%TOTAL_PERCENT_COMMENTS%)*|*%TOTAL_LINES_EMPTY% (%TOTAL_PERCENT_EMPTY%)*|*%TOTAL_LINES%*|

  _This file was generated by "LineCounter":http://github.com/arturo182/LineCounter on %CURRENT_DATE% %CURRENT_TIME%._]]>
  </append>
</export>
</code>
</pre>

When the stats are exported to a file first the "prepend" text is inserted, after that the "item" text is inserted _for every file_ and lastly the "append" text is inserted.

h3. There are some variables that can be used in export blocks:

For the "item" block:
* ==%FILENAME%==
* ==%FILESIZE%==
* ==%FILESIZEB%==
* ==%LINES_SOURCE%==
* ==%LINES_COMMENTS%==
* ==%LINES_EMPTY%==
* ==%LINES_TOTAL%==
* ==%PERCENT_SOURCE%==
* ==%PERCENT_COMMENTS%==
* ==%PERCENT_EMPTY%==

For "prepend" and "append" blocks:

* ==%TOTAL_FILECOUNT%==
* ==%TOTAL_FILESIZE%==
* ==%TOTAL_FILESIZEB%==
* ==%TOTAL_LINES_SOURCE%==
* ==%TOTAL_LINES_COMMENTS%==
* ==%TOTAL_LINES_EMPTY%==
* ==%TOTAL_LINES%==
* ==%TOTAL_PERCENT_SOURCE%==
* ==%TOTAL_PERCENT_COMMENTS%==
* ==%TOTAL_PERCENT_EMPTY%==
* ==%CURRENT_DATE%==
* ==%CURRENT_TIME%==